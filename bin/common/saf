#!/bin/sh

# Simple Ass Fetch by futxlii

red="$(printf '\033[31m')"
blue="$(printf '\033[34m')"
reset="$(printf '\033[0m')"

load ()
{
	for time in $(uptime | cut -f3- -d',' | cut -f2 -d':' | tr ',' ' ')
	do
		percent="$(echo "$time*100/$(nproc)" | bc)"
		echo "${percent:-0}%"
	done | xargs
}

for file in /etc/os-release /usr/lib/os-release
do
    [ -f "$file" ] && . "$file" && break
done

KERNEL="$(uname -r)"
UPTIME="$(uptime -p)"; UPTIME="${UPTIME##up }"
SHELL="$(basename "$SHELL")"

cat <<EOF
	${red}- ${blue}${ID:-"unknown"}
	${red}- ${blue}$KERNEL
	${red}- ${blue}$UPTIME ($(load))
	${red}- ${blue}$SHELL${reset}
EOF
