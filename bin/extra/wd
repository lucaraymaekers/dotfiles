#!/bin/sh
[ "$1" ] || exit 1
dict "$1" |
	sed -e '/^  /!d;s/^  //' |
	sed -e '/^$/d;s/^[^ ].*$/\o033[1;4;34m&\o033[0m/' |

	# foldoc
	sed -e '/^ /s/</\o033[2m/g' -e '/^ /s/>/\o033[0m/g' | 

	# webster
	sed -r -e 's/ \\\<\w+\>\\//g' -e '/^ *\[[^]]*Webster[^]]*\]/d' |
	# replace {} by blue underline
	sed -e '/^ /s/{/\o033[4m/g' -e '/^ /s/}/\o033[0m/g' | 
	tr -d '{}' # remove {} in word definition
